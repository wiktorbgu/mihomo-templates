- [–®–∞–±–ª–æ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è Docker-–æ–±—Ä–∞–∑–∞ Mihomo –Ω–∞ MikroTik](#—à–∞–±–ª–æ–Ω—ã-–Ω–∞—Å—Ç—Ä–æ–µ–∫-–¥–ª—è-docker-–æ–±—Ä–∞–∑–∞-mihomo-–Ω–∞-mikrotik)
- [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã](#–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—à–∞–±–ª–æ–Ω—ã)
- [–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω](#–∫–∞–∫-–≤—ã–±—Ä–∞—Ç—å-—à–∞–±–ª–æ–Ω)
- [–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏: —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º](#–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏-—á—Ç–æ-—ç—Ç–æ-–∏-–∑–∞—á–µ–º)
  - [–í–∞–∂–Ω–æ!](#–≤–∞–∂–Ω–æ)
- [–®–∞–±–ª–æ–Ω ¬´–û–±–ª–µ–≥—á—ë–Ω–Ω—ã–π¬ª (–¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤)](#—à–∞–±–ª–æ–Ω-–æ–±–ª–µ–≥—á—ë–Ω–Ω—ã–π-–¥–ª—è-–Ω–æ–≤–∏—á–∫–æ–≤)
- [–®–∞–±–ª–æ–Ω ¬´–ë–æ–ª—å—à–æ–π¬ª (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)](#—à–∞–±–ª–æ–Ω-–±–æ–ª—å—à–æ–π-–¥–ª—è-–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)
- [–®–∞–±–ª–æ–Ω ¬´–¶–µ–ø–æ—á–∫–∏¬ª (–¥–ª—è —Ö–∏—Ç—Ä—ã—Ö)](#—à–∞–±–ª–æ–Ω-—Ü–µ–ø–æ—á–∫–∏-–¥–ª—è-—Ö–∏—Ç—Ä—ã—Ö)
- [–®–∞–±–ª–æ–Ω ¬´–ú–∏–Ω–∏–º—É–º¬ª (–¥–ª—è –±–∞–±—É—à–µ–∫)](#—à–∞–±–ª–æ–Ω-–º–∏–Ω–∏–º—É–º-–¥–ª—è-–±–∞–±—É—à–µ–∫)
- [–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è](#–≤–∞–∂–Ω—ã–µ-–∑–∞–º–µ—á–∞–Ω–∏—è)

## –®–∞–±–ª–æ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è Docker-–æ–±—Ä–∞–∑–∞ Mihomo –Ω–∞ MikroTik

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Mihomo –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ MikroTik https://hub.docker.com/r/wiktorbgu/mihomo-mikrotik

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã

–ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –æ–±—ã—á–Ω–æ –∫–æ–ø–∏—Ä—É—é—Ç –ø–æ SFTP –≤ –ø–∞–ø–∫—É –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ:
`/usb1/docker_configs/mihomo_mikrotik/template`

–ï—Å–ª–∏ –≤—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ —Å—Å—ã–ª–∫–∞–º (—á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `SUB1`, `SUB2` –∏ —Ç.–¥.), —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –ø–æ–¥–ø–∏—Å–æ–∫](https://github.com/Viktor45/sub-filter). –≠—Ç–æ—Ç —Ñ–∏–ª—å—Ç—Ä —É–±–µ—Ä—ë—Ç –≤—Å—ë –ª–∏—à–Ω–µ–µ –∏–∑ –ø–æ–¥–ø–∏—Å–∫–∏: –∫—Ä–∏–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ "–º—É—Å–æ—Ä", –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ Mihomo –º–æ–∂–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è. –ù–æ –µ—Å–ª–∏ –≤–∞—à–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Ç–∞–∫ —á–∏—Å—Ç—ã–µ ‚Äî —Ñ–∏–ª—å—Ç—Ä –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.

## –ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω

–ß—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π —à–∞–±–ª–æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `CONFIG` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –í –∫–∞–∂–¥–æ–º —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Äî —á–∏—Ç–∞–π—Ç–µ –∏—Ö, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è.

## –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏: —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º

–í —à–∞–±–ª–æ–Ω–∞—Ö –µ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ ‚Äî –æ–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –≤—ã–±–∏—Ä–∞—Ç—å, —á–µ—Ä–µ–∑ –∫–∞–∫–æ–π –ø—Ä–æ–∫—Å–∏ –∏–¥—ë—Ç —Ç—Ä–∞—Ñ–∏–∫. –í–æ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:

| –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è | –¢–∏–ø          | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π? | –û–ø–∏—Å–∞–Ω–∏–µ                                                                            |
| ---------------------- | ------------ | --------------- | ----------------------------------------------------------------------------------- |
| SELECTOR               | **Selector** | –ù–ï–¢             | –ì–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ‚Äî –≤—ã–±–∏—Ä–∞–π—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é, –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –≤–Ω–µ —Å–µ—Ä–≤–∏—Å–æ–≤ |
| MANUAL                 | **Selector** | –ù–ï–¢             | –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏, –∫–æ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞                         |
| RU_MANUAL              | **Selector** | –ù–ï–¢             | –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä `RU` –ø—Ä–æ–∫—Å–∏, –∫–æ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞                                 |
| AUTO                   | Fallback     | –î–ê              | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏                                                   |
| FASTEST                | URLTest      | –î–ê              | –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏                                                    |
| FAILOVER               | Fallback     | –î–ê              | –ù–∞–¥—ë–∂–Ω—ã–π –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏                                                         |
| RU_AUTO                | Fallback     | –î–ê              | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π `RU` –ø—Ä–æ–∫—Å–∏                                                          |
| RU_FASTEST             | URLTest      | –î–ê              | –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π `RU` –ø—Ä–æ–∫—Å–∏                                                           |
| RU_FAILOVER            | Fallback     | –î–ê              | –ù–∞–¥—ë–∂–Ω—ã–π `RU` –ø—Ä–æ–∫—Å–∏                                                                |
| AWG_AUTO               | Fallback     | –î–ê              | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π `AWG` –ø—Ä–æ–∫—Å–∏                                                         |
| AWG_FASTEST            | URLTest      | –î–ê              | –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π `AWG` –ø—Ä–æ–∫—Å–∏                                                          |
| AWG_FAILOVER           | Fallback     | –î–ê              | –ù–∞–¥—ë–∂–Ω—ã–π `AWG` –ø—Ä–æ–∫—Å–∏                                                               |
| VIA_RU_AUTO            | Fallback     | –î–ê              | –í –∑–∞–≥—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ `RU` –ø—Ä–æ–∫—Å–∏ (–∞–≤—Ç–æ)                                                |
| VIA_RU_FASTEST         | URLTest      | –î–ê              | –í –∑–∞–≥—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π `RU` –ø—Ä–æ–∫—Å–∏                                         |
| VIA_RU_FAILOVER        | Fallback     | –î–ê              | –í –∑–∞–≥—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ –Ω–∞–¥—ë–∂–Ω—ã–π `RU` –ø—Ä–æ–∫—Å–∏                                              |

### –í–∞–∂–Ω–æ!

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `SELECTOR` –∏ `MANUAL` / `RU_MANUAL` –≤—Ä—É—á–Ω—É—é ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –ø—Ä–æ–∫—Å–∏.

`RU` –ø—Ä–æ–∫—Å–∏ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ —Ñ–ª–∞–≥—É `üá∑üá∫` –∏–ª–∏ –ø–æ —Å–æ—á–µ—Ç–∞–Ω–∏—é `RU`, –µ—Å–ª–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –≤–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–∞–Ω–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è –æ—Ç—Å—É—Å—Ç–≤—É—é—Ç –∏–ª–∏ –∏–º–µ—é—Ç –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –∏—Ö –∞–∫—Ç—É–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö `filter`.

`AWG` –ø—Ä–æ–∫—Å–∏ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ —Ç–∏–ø—É `wireguard` —á–µ—Ä–µ–∑ `exclude-type`, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Ç–∞–∫–∂–µ Amnezia / WARP / Wireguard.

–í –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è—Ö `URLTest` –ø–∞—Ä–∞–º–µ—Ç—Ä `tolerance` —Ä–∞–≤–µ–Ω 50 (ms), –º–æ–∂–µ—Ç–µ —É–º–µ–Ω—å—à–∏—Ç—å –¥–æ 10, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á–∞—â–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø—Ä–æ–∫—Å–∏.

NB: –ö–æ–≥–¥–∞ UI-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å—è–º–∏ –∑–∞–∫—Ä—ã—Ç–∞ –∏ –Ω–∏–≥–¥–µ –Ω–µ –≤–∏—Å–∏—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ - –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø–∞–º—è—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è –Ω–∞ ~10MB, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å –µ–µ –æ—Ç–∫—Ä—ã—Ç–æ–π, –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ.

–ù–µ —Ç—Ä–æ–≥–∞–π—Ç–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Å —Ç–∏–ø–∞–º–∏ `Fallback` –∏ `URLTest` ‚Äî –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –∏—Ö –ø–æ–º–µ–Ω—è—Ç—å, –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ —Å–ª–æ–º–∞–µ—Ç—Å—è.
–ö–∞–∫ –ø–æ—á–∏–Ω–∏—Ç—å? ‚Äî –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–±–∏—Ç–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è –∏–ª–∏ –Ω–∞ –∑–Ω–∞—á–æ–∫ —Å–∫–æ—Ä–æ—Å—Ç–∏, –µ—Å–ª–∏ —É –≤–∞—Å –Ω–µ zashboard ‚Äî –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.

## –®–∞–±–ª–æ–Ω ¬´–û–±–ª–µ–≥—á—ë–Ω–Ω—ã–π¬ª (–¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤)

- –§–∞–π–ª —à–∞–±–ª–æ–Ω–∞: [stargate-lite.yaml](stargate-lite.yaml)

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω ‚Äî —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

- –ü–æ—Ç—Ä–µ–±–ª—è–µ—Ç –æ–∫–æ–ª–æ 20 –ú–ë –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏.
- –ú–µ–Ω—å—à–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π ‚Äî –º–µ–Ω—å—à–µ –ø—É—Ç–∞–Ω–∏—Ü—ã.

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
`CONFIG="stargate-lite.yaml"`

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è MikroTik:
`/container envs add list=MIHOMO key=CONFIG value="stargate-lite.yaml"`

## –®–∞–±–ª–æ–Ω ¬´–ë–æ–ª—å—à–æ–π¬ª (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

- –§–∞–π–ª —à–∞–±–ª–æ–Ω–∞: [stargate.yaml](stargate.yaml)

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—ë: –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤—Å–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
–ù–æ:

- –ú–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π ‚Äî –º–æ–∂–Ω–æ –∑–∞–ø—É—Ç–∞—Ç—å—Å—è.
- –ó–∞–Ω–∏–º–∞–µ—Ç –æ–∫–æ–ª–æ 40 –ú–ë (–∏–ª–∏ –¥–∞–∂–µ –±–æ–ª—å—à–µ, –µ—Å–ª–∏ –≤–∫–ª—é—á–∏—Ç—å –≤—Å—ë).

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
`CONFIG="stargate.yaml"`

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è MikroTik:
`/container envs add list=MIHOMO key=CONFIG value="stargate.yaml"`

## –®–∞–±–ª–æ–Ω ¬´–¶–µ–ø–æ—á–∫–∏¬ª (–¥–ª—è —Ö–∏—Ç—Ä—ã—Ö)

- –§–∞–π–ª —à–∞–±–ª–æ–Ω–∞: [stargate-chain.yaml](chain/stargate-chain.yaml)
- –§–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞: [stargate-chain.sh](chain/user_sh/stargate-chain.sh)

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞—ë—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ** —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ–∫—Å–∏: —Å–Ω–∞—á–∞–ª–∞ —Ç—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä, –∞ –ø–æ—Ç–æ–º ‚Äî –≤ –ª—é–±—É—é –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω—É. –û—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å —Å–≤–æ–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–∏ –±–µ–ª—ã—Ö —Å–ø–∏—Å–∫–∞—Ö. –ù–æ –ø–æ–º–Ω–∏—Ç–µ, –ø—Ä–∏ —Ü–µ–ø–æ—á–∫–∞—Ö —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø–∏–Ω–≥, —Ç.–∫. –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –î–í–ê –ü–†–û–ö–°–ò –∏–∑ –º–µ—Ö–∞–Ω–∏–∑–º–∞ [dialer-proxy](https://wiki.metacubex.one/ru/config/proxies/dialer-proxy/).

–í–∞–∂–Ω–æ:

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –≤ –ø–æ–¥–ø–∏—Å–∫–∞—Ö –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏—Ö —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ–∫—Å–∏ –¥–Ω—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –∏–Ω–∞—á–µ –ø–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ–∫—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ —Å—Ä–∞–∑—É —á–µ—Ä–µ–∑ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏, –∏ –ø–æ—Ç–æ–º –∫–æ–≥–¥–∞ –æ–Ω–∏ –∫–æ–Ω—á–∞—Ç—Å—è - –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ –ø—Ä–æ–∫—Å–∏.
- –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å ‚Äî –¥–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ `SUB1`, `SUB2` –∏ —Ç.–¥.
- –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∂–µ—Å—Ç–∫–æ –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–∞ –∫–∞–∫–∏–º-–ª–∏–±–æ —Å–µ—Ä–≤–∏—Å–æ–º —Å—Ç—Ä–∞–Ω—É, —á—Ç–æ–±—ã –æ–Ω–∞ –Ω–µ –ø–æ–º–µ–Ω—è–ª–∞—Å—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏ - –≤—ã—Å—Ç–∞–≤–∏—Ç–µ –µ–µ —á–µ—Ä–µ–∑ `MANUAL`/`RU_MANUAL` –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –Ω–∞ —Å–µ—Ä–≤–∏—Å –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å `MANUAL`/`RU_MANUAL`, –ª–∏–±–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–ø–∏—à–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π [—Ñ–∏–ª—å—Ç—Ä](https://wiki.metacubex.one/en/config/proxy-groups/#filter) –≤–Ω—É—Ç—Ä–∏ `stargate-chain.yaml`.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ **Auto disconnect idle UDP** –≤ zashboard –∏–ª–∏ –ø–æ–¥–æ–±–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ –¥—Ä—É–≥–æ–π –ø–∞–Ω–µ–ª–∏, –µ—Å–ª–∏ —É –≤–∞—Å —Ç–æ–ª—Å—Ç—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏, —á—Ç–æ–±—ã –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ UDP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∑–∞–∫—Ä—ã–≤–∞–ª–∏—Å—å –Ω–∞–ø—Ä–∏–º–µ—Ä –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç, –∏–∑–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏ –æ–Ω–∏ —á–∞—Å—Ç–æ –æ—Å—Ç–∞—é—Ç—Å—è –æ—Ç–Ω–∏–º–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ–∫—Å–∏.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –†–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ** —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ (`SUB`).
- –ü—Ä–æ–∫—Å–∏ —Ç–∏–ø–∞ Amnezia / WARP / Wireguard –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è ‚Äî –æ–Ω–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ü–µ–ø–æ—á–∫–∏, –Ω–æ –µ—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã –∫–∞–∫–æ–º—É-–ª–∏–±–æ —Å–µ—Ä–≤–∏—Å—É –¥–ª—è –Ω–∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω—ã `AWG` –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏, —Ç–∞–∫–∂–µ –∏—Ö –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤ `MANUAL`/`RU_MANUAL`.
- –†–∞—Å—Ö–æ–¥ –ø–∞–º—è—Ç–∏ –∏–∑–∑–∞ –Ω–∞–ª–æ–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –¥–ª—è —Å—Ü–µ–ø–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –Ω–∞ 30-50% –æ—Ç —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ –∑–∞–Ω—è–ª –±—ã –æ–±–ª–µ–≥—á–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω (–¥–æ 90 –ú–ë –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–∞—Ö –Ω–∞ ~500 URL)

**–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ SFTP –ø–æ–ª–æ–∂–∏—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞ –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—É—Ç—è–º, –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—Å–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è**:

- [stargate-chain.yaml](chain/stargate-chain.yaml) ‚Üí –≤ –ø–∞–ø–∫—É –≤ —à–∞–±–ª–æ–Ω–∞–º–∏ `/usb1/docker_configs/mihomo_mikrotik/template`
- [stargate-chain.sh](chain/user_sh/stargate-chain.sh) ‚Üí –≤ –ø–∞–ø–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ `/usb1/docker/mihomo_mikrotik/user_sh`.

–ù–µ –∑–∞–±—É–¥—å—Ç–µ:

- –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ user_sh —Å–∫—Ä–∏–ø—Ç–∞ –∏ —à–∞–±–ª–æ–Ω–∞ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
`CONFIG="stargate-chain.yaml"`

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è MikroTik:
`/container envs add list=MIHOMO key=CONFIG value="stargate-chain.yaml"`

## –®–∞–±–ª–æ–Ω ¬´–ú–∏–Ω–∏–º—É–º¬ª (–¥–ª—è –±–∞–±—É—à–µ–∫)

- –§–∞–π–ª —à–∞–±–ª–æ–Ω–∞: [stargate-mini.yaml](stargate-mini.yaml)

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω ‚Äî –æ–±—Ä–µ–∑–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –æ–±–ª–µ–≥—á–µ–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª. –î–ª—è —Å—Ç–∞—Ä–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Å–æ–≤—Å–µ–º –Ω–µ –ø—Ä–∏—Ö–æ—Ç–ª–∏–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í—ã –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ –≤–∞–º –Ω—É–∂–Ω–æ —á—É—Ç—å-—á—É—Ç—å –±–æ–ª—å—à–µ.

- –í—Å–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å–µ—Ä–≤–∏—Å—ã, –Ω–µ–π—Ä–æ–Ω–∫–∏ –∏ –∏–≥—Ä–æ–≤—ã–µ –ø—Ä–∏–±–∞–º–±–∞—Å—ã –≤—ã –≤—Å–µ—Ä–∞–≤–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç–µ –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ–∫—Å–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞  `SELECTOR`, –ø–æ—ç—Ç–æ–º—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã.
- –ù–æ —é—Ç—É–±-—Ç–µ–ª–µ–≥—Ä–∞–º-–≤–∞—Ü–∞–ø –∏ –±–æ–Ω—É—Å–æ–º Cloudflare –≤–∞–º —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –ø–æ–¥–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª—É—á—à–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä —á—Ç–æ–±—ã –±—ã–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∞, –Ω–µ –±—ã–ª–æ —Ä–µ–∫–ª–∞–º—ã, –∏ —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–µ –¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–ª–æ—Å—å.

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
`CONFIG="stargate-mini.yaml"`

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è MikroTik:
`/container envs add list=MIHOMO key=CONFIG value="stargate-mini.yaml"`


## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —à–∞–±–ª–æ–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Äî —á–∏—Ç–∞–π—Ç–µ –∏—Ö, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ.
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ñ–∞–π–ª—ã –≤ UTF-8 –±–µ–∑ [BOM](https://en.wikipedia.org/wiki/Byte_order_mark) (—ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –º–µ—Ç–∫–∞ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞). –ò–Ω–∞—á–µ Mihomo –º–æ–∂–µ—Ç –Ω–µ –ø–æ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å? –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å BOM (–Ω–∞–ø—Ä–∏–º–µ—Ä, VS Code), –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–æ–∏—Ç –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 –±–µ–∑ BOM.
- –†–∞—Å—á–µ—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –æ–ø—ã—Ç–µ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ 32-–±–∏—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å 1 –ø–æ–¥–ø–∏—Å–∫–æ–π –¥–æ 30 –ø—Ä–æ–∫—Å–∏.

–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
https://hub.docker.com/r/wiktorbgu/mihomo-mikrotik
