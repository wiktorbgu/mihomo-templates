# === –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ===
# –†–∞–∑—Ä–µ—à–∏—Ç—å –¥—Ä—É–≥–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —ç—Ç–æ–º—É –ø—Ä–æ–∫—Å–∏
allow-lan: true

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: "rule" –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º (–∞ –Ω–µ "–≤—Å—ë —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –ø—Ä–æ–∫—Å–∏")
mode: rule

# –ù–∞—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ä–æ–±–Ω–æ –ø–∏—Å–∞—Ç—å –≤ –∂—É—Ä–Ω–∞–ª (log): error ‚Äî —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏, info ‚Äî –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π –∏ —Ç.–¥.
log-level: $LOG_LEVEL

# –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É IPv6 (–Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç IP-–∞–¥—Ä–µ—Å–æ–≤)? –ú–æ–∂–Ω–æ true –∏–ª–∏ false.
ipv6: $IPV6

# –≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ–∫—Å–∏ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π
unified-delay: true

# –ê–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.0.0.0:9090)
external-controller: $EXTERNAL_CONTROLLER_ADDRESS:$UI_PORT

# –ü–∞–ø–∫–∞, –∫—É–¥–∞ —Ä–∞—Å–ø–∞–∫—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, dist)
external-ui: $EXTERNAL_UI_PATH

# –°—Å—ã–ª–∫–∞, –æ—Ç–∫—É–¥–∞ —Å–∫–∞—á–∏–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ZIP-–∞—Ä—Ö–∏–≤ —Å GitHub)
external-ui-url: $EXTERNAL_UI_URL

# –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî –±–µ–∑ –Ω–µ–≥–æ –ª—é–±–æ–π —Å–º–æ–∂–µ—Ç –≤—Å—ë –ø–æ–º–µ–Ω—è—Ç—å!
secret: $UI_SECRET

# === –ê–ù–ê–õ–ò–ó –¢–†–ê–§–ò–ö–ê (SNIFFER) ===
# –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è "–ø–æ–¥—Å–ª—É—à–∏–≤–∞–µ—Ç" —Ç—Ä–∞—Ñ–∏–∫ –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç—å, –∫—É–¥–∞ –∏–¥—ë—Ç –∑–∞–ø—Ä–æ—Å (–¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω)
sniffer:
  # –í–∫–ª—é—á–∏—Ç—å "–ø–æ–¥—Å–ª—É—à–∏–≤–∞—Ç–µ–ª—å"
  enable: true

  # –ï—Å–ª–∏ —Å–∞–π—Ç –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ IP (–∞ –Ω–µ –ø–æ –∏–º–µ–Ω–∏), –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É–∑–Ω–∞—Ç—å, —á—Ç–æ —ç—Ç–æ –∑–∞ —Å–∞–π—Ç
  parse-pure-ip: true

  # –ï—Å–ª–∏ —Å–∞–π—Ç –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ IP, –Ω–æ –º—ã –∑–Ω–∞–µ–º –µ–≥–æ –¥–æ–º–µ–Ω ‚Äî –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –≤–º–µ—Å—Ç–æ IP
  force-dns-mapping: true

  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤:
  sniff:
    # HTTP ‚Äî –æ–±—ã—á–Ω—ã–µ —Å–∞–π—Ç—ã (–±–µ–∑ –∑–∞–º–æ—á–∫–∞ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ)
    HTTP:
      # –ü–æ—Ä—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å HTTP
      ports: [80, 8080-8880]
      # –ï—Å–ª–∏ —Å–∞–π—Ç –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ IP, –Ω–æ –º—ã –µ–≥–æ —É–∑–Ω–∞–ª–∏ ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å IP –Ω–∞ –¥–æ–º–µ–Ω
      override-destination: true

    # TLS ‚Äî –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∞–π—Ç—ã (—Å –∑–∞–º–æ—á–∫–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, https://)
    TLS:
      ports: [443, 8443]

    # QUIC ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 443 (—á–∞—Å—Ç–æ –≤ YouTube, Google –∏ —Ç.–¥.)
    QUIC:
      ports: [443, 8443]

# === DNS (–ö–ê–ö –£–ó–ù–ê–í–ê–¢–¨ IP –ê–î–†–ï–°–ê –°–ê–ô–¢–û–í) ===
dns:
  # –í–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É DNS (–±–µ–∑ –Ω–µ—ë –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –≤—Ä–æ–¥–µ google.com)
  enable: $DNS_ENABLE

  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ —Ñ–∞–π–ª /etc/hosts (—Ç–∞–º –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–ø–∏—Å–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, "–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å youtube.com")
  use-system-hosts: $DNS_USE_SYSTEM_HOSTS

  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DNS-—Å–µ—Ä–≤–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.1.1.1, 8.8.8.8 –∏ —Ç.–¥.)
  nameserver:
    - system

# === –ì–î–ï –°–õ–£–®–ê–¢–¨ –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø ===
# Mihomo –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ —Å —Ä–∞–∑–Ω—ã—Ö "–≤—Ö–æ–¥–æ–≤". –í–æ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö:
listeners:
  - name: mixed-in
    type: mixed
    port: $MIXED_PORT # –û–±—ã—á–Ω–æ 1080
  - name: tun-in
    type: tun
    stack: $TUN_STACK # –ö–∞–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–æ–±—ã—á–Ω–æ "system")
    auto-detect-interface: $TUN_AUTO_DETECT_INTERFACE # –°–∞–º –Ω–∞–π–¥—ë—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    auto-route: $TUN_AUTO_ROUTE # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫
    auto-redirect: $TUN_AUTO_REDIRECT # –ü–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç –¥–∞–∂–µ DNS-–∑–∞–ø—Ä–æ—Å—ã
    inet4-address:
      - $TUN_INET4_ADDRESS # IP-–∞–¥—Ä–µ—Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ TUN-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

# === –ü–û–î–ü–ò–°–ö–ò –ù–ê –ü–†–û–ö–°–ò ===
# –°—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –∏–∑ entrypoint.sh:
# ‚Äî PROVIDERS_BLOCK ‚Äî –æ–±—ã—á–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ (SUB1, SUB2...)
# ‚Äî PROVIDERS_CHAIN_BLOCK ‚Äî —Ü–µ–ø–æ—á–∫–∏ "—á–µ—Ä–µ–∑ –†–æ—Å—Å–∏—é"
proxy-providers:
$PROVIDERS_BLOCK
$PROVIDERS_CHAIN_BLOCK

# === –ì–†–£–ü–ü–´ –ü–†–û–ö–°–ò (–ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ –¢–†–ê–§–ò–ö–ê) ===
# –ì—Ä—É–ø–ø—ã ‚Äî —ç—Ç–æ –∫–∞–∫ "–ø–∞–ø–∫–∏" —Å –ø—Ä–æ–∫—Å–∏. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—ã–±–∏—Ä–∞—é—Ç —Å–∞–º–∏, –¥—Ä—É–≥–∏–µ ‚Äî —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
proxy-groups:
  # –ë—ã—Å—Ç—Ä–µ–π—à–∏–π –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å)
  - name: FASTEST
    type: url-test
    use:
$PROVIDERS_LIST
    # –ò—Å–∫–ª—é—á–∞–µ–º AWG/WARP –∏ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–µ—Ä–≤–µ—Ä—ã (–æ–Ω–∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã –¥–ª—è "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö")
    exclude-filter: "(?i)awg|warp|üá∑üá∫ |RU"
    # –°–∞–π—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
    url: http://www.msftncsi.com/ncsi.txt
    interval: 300 # –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
    lazy: false # –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

  # –ù–∞–¥—ë–∂–Ω—ã–π –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —É–ø–∞–ª)
  - name: FAILOVER
    type: fallback
    use:
$PROVIDERS_LIST
    exclude-filter: "(?i)awg|warp|üá∑üá∫ |RU"
    url: http://www.msftncsi.com/ncsi.txt
    interval: 200 # –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ ~3 –º–∏–Ω—É—Ç—ã

  # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä ‚Äî —Ç—ã —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—à—å, –∫–∞–∫–æ–π –ø—Ä–æ–∫—Å–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  - name: MANUAL
    type: select
    use:
$PROVIDERS_LIST

  # –ë—ã—Å—Ç—Ä–µ–π—à–∏–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø—Ä–æ–∫—Å–∏
  - name: RU_FASTEST
    type: url-test
    use:
$PROVIDERS_LIST
    exclude-filter: "(?i)awg|warp"
    filter: "(?i)üá∑üá∫ |RU" # –ë–µ—Ä—ë–º –¢–û–õ–¨–ö–û —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–µ—Ä–≤–µ—Ä—ã
    url: http://www.msftncsi.com/ncsi.txt
    interval: 300
    lazy: false

  # –ù–∞–¥—ë–∂–Ω—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø—Ä–æ–∫—Å–∏
  - name: RU_FAILOVER
    type: fallback
    use:
$PROVIDERS_LIST
    exclude-filter: "(?i)awg|warp"
    filter: "(?i)üá∑üá∫ |RU"
    url: http://www.msftncsi.com/ncsi.txt
    interval: 200

  # –ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤: —Å–Ω–∞—á–∞–ª–∞ FASTEST, –ø–æ—Ç–æ–º FAILOVER, –∏–Ω–∞—á–µ –Ω–∞–ø—Ä—è–º—É—é
  - name: AUTO
    type: fallback
    proxies:
      - FASTEST
      - FAILOVER
      - DIRECT
    url: http://www.msftncsi.com/ncsi.txt
    interval: 200

  # –ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
  - name: RU_AUTO
    type: fallback
    proxies:
      - RU_FASTEST
      - RU_FAILOVER
      - DIRECT
    url: http://www.msftncsi.com/ncsi.txt
    interval: 200

  # –í –∑–∞–≥—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ –†–æ—Å—Å–∏—é: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–ø–æ—á–∫–∏
  - name: VIA_RU_AUTO
    type: fallback
    proxies:
      - VIA_RU_FASTEST
      - VIA_RU_FAILOVER
      - AUTO # –ï—Å–ª–∏ —á–µ—Ä–µ–∑ –†–æ—Å—Å–∏—é –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è, —Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ
    url: http://www.msftncsi.com/ncsi.txt
    interval: 200

  - name: VIA_RU_FASTEST
    type: url-test
    use:
$PROVIDERS_CHAIN_LIST
    url: http://www.msftncsi.com/ncsi.txt
    interval: 300

  - name: VIA_RU_FAILOVER
    type: fallback
    use:
$PROVIDERS_CHAIN_LIST
    url: http://www.msftncsi.com/ncsi.txt
    interval: 200

  # –ì–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ‚Äî –µ–≥–æ –≤–∏–¥–Ω–æ –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - name: SELECTOR
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Proxy.png
    proxies:
      - VIA_RU_AUTO # –ß–µ—Ä–µ–∑ –†–æ—Å—Å–∏—é –≤ –∑–∞–≥—Ä–∞–Ω–∏—Ü—É
      - AUTO        # –ß–µ—Ä–µ–∑ –∑–∞–≥—Ä–∞–Ω–∏—Ü—É
      - MANUAL      # –í —Ä—É—á–Ω—É—é
      - RU_AUTO     # –ß–µ—Ä–µ–∑ –†–æ—Å—Å–∏—é
      - DIRECT      # –ù–∞–ø—Ä—è–º—É—é

  # –ì–ª–æ–±–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç ‚Äî –ø–æ—á—Ç–∏ —Ç–∞–∫–æ–π –∂–µ, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö
  - name: GLOBAL
    type: select
    hidden: false
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    proxies:
      - VIA_RU_AUTO
      - AUTO      
      - MANUAL      
      - RU_AUTO
      - DIRECT

  # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞ –¥–ª—è QUIC-—Ç—Ä–∞—Ñ–∏–∫–∞ (–æ–±—ã—á–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å)
  - name: QUIC
    type: select
    proxies:
      - PASS # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
      - REJECT # –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å

  # === –û–°–û–ë–´–ï –ì–†–£–ü–ü–´ –î–õ–Ø –ü–û–ü–£–õ–Ø–†–ù–´–• –°–ï–†–í–ò–°–û–í ===
  # –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å –∏–∫–æ–Ω–∫–æ–π.
  # "include-all: true" –∑–Ω–∞—á–∏—Ç: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
  - name: TELEGRAM
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: WHATSAPP
    type: select
    icon: https://github.com/OMchik33/Whatsapp-icon/blob/master/icons/whatsapp_194x194.png?raw=true
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: STEAM
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: YOUTUBE
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    include-all: true
    proxies:
      - RU_AUTO
      - AUTO       
      - MANUAL
      - VIA_RU_AUTO
      - DIRECT

  - name: TWITCH
    type: select
    icon: https://img.icons8.com/3d-fluency/94/twitch.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: AI_DEV
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: GOOGLE_GEMINI
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: OPENAI
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: MICROSOFT
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Microsoft.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: ANTHROPIC
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

  - name: PERPLEXITY
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - VIA_RU_AUTO
      - AUTO        
      - MANUAL
      - RU_AUTO
      - DIRECT

# === –ü–†–ê–í–ò–õ–ê: –û–¢–ö–£–î–ê –ë–†–ê–¢–¨ –°–ü–ò–°–ö–ò –°–ê–ô–¢–û–í ===
# –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å —Å–∞–π—Ç—ã –≤—Ä—É—á–Ω—É—é, –º—ã –ø–æ–¥–≥—Ä—É–∂–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ —Å–ø–∏—Å–∫–∏ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.
rule-providers:
  telegram-domain:
    type: http
    behavior: domain # –≠—Ç–æ —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ (—Å–∞–π—Ç–æ–≤)
    format: mrs # –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ (Meta Ruleset)
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/telegram.mrs
    path: ./rule-sets/telegram-domain.mrs
    interval: 86400 # –û–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏

  telegram-ips:
    type: http
    behavior: ipcidr # –≠—Ç–æ —Å–ø–∏—Å–æ–∫ IP-–∞–¥—Ä–µ—Å–æ–≤
    format: yaml
    url: https://raw.githubusercontent.com/OMchik33/custom-rules/refs/heads/main/mihomo/telegram-ips.yaml
    path: ./rule-sets/telegram-ips.yaml
    interval: 86400

  # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è WhatsApp, Steam, Twitch, Discord –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤...
  whatsapp-domain:
    type: http
    behavior: domain
    format: mrs
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/whatsapp.mrs
    path: ./rule-sets/whatsapp-domain.mrs
    interval: 86400

  steam-domain:
    type: http
    behavior: domain
    format: yaml
    url: https://raw.githubusercontent.com/OMchik33/custom-rules/refs/heads/main/mihomo/gaming-domains.yaml
    path: ./rule-sets/steam-domain.yaml
    interval: 86400

  steam-ips:
    type: http
    behavior: ipcidr
    format: yaml
    url: https://raw.githubusercontent.com/OMchik33/custom-rules/refs/heads/main/mihomo/gaming-ips.yaml
    path: ./rule-sets/steam-ips.yaml
    interval: 86400

  twitch-domain:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/twitch.mrs
    path: ./rule-sets/twitch-domain.mrs
    interval: 86400

  discord_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/discord.mrs
    path: ./rule-sets/discord_domains.mrs
    interval: 86400

  google_gemini:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/google-gemini.mrs
    path: ./rule-sets/google-gemini.mrs
    interval: 86400

  openai:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/openai.mrs
    path: ./rule-sets/openai.mrs
    interval: 86400

  microsoft:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/microsoft.mrs
    path: ./rule-sets/microsoft.mrs
    interval: 86400

  anthropic:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/anthropic.mrs
    path: ./rule-sets/anthropic.mrs
    interval: 86400

  perplexity:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/perplexity.mrs
    path: ./rule-sets/perplexity.mrs
    interval: 86400

  discord_voiceips:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/discord-voice-ip-list.mrs
    path: ./rule-sets/discord_voiceips.mrs
    interval: 86400

  youtube:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/youtube.mrs
    path: ./rule-sets/youtube.mrs
    interval: 86400

  # –ü—Ä–∞–≤–∏–ª–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–∫–ª–∞–º—ã –∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (OISD)
  #  oisd_big:
  #    type: http
  #    behavior: domain
  #    format: mrs
  #    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/oisd/big.mrs
  #    path: ./oisd/big.mrs
  #    interval: 86400

  #  ru-bundle:
  #    type: http
  #    behavior: domain
  #    format: mrs
  #    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/ru-bundle/rule.mrs
  #    path: ./ru-bundle/rule.mrs
  #    interval: 86400

  # –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–ø–∏—Å–∞–Ω—ã –ø—Ä—è–º–æ –∑–¥–µ—Å—å (inline), –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Ñ–∞–π–ª–∞:
  mixed-ai:
    type: inline
    behavior: classical
    format: text
    payload:
      # xAI (Grok)
      - DOMAIN-SUFFIX,x.ai
      - DOMAIN-SUFFIX,grok.x.ai
      - DOMAIN-SUFFIX,api.x.ai
      - DOMAIN-KEYWORD,grok

      # Hugging Face
      - DOMAIN-SUFFIX,huggingface.co
      - DOMAIN-SUFFIX,hf.co
      - DOMAIN-SUFFIX,hf.space
      - DOMAIN-SUFFIX,huggingface.com
      - DOMAIN-KEYWORD,huggingface

      # Midjourney –∏ –¥—Ä—É–≥–∏–µ –ò–ò –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
      - DOMAIN-SUFFIX,midjourney.com
      - DOMAIN-SUFFIX,cdn.midjourney.com
      - DOMAIN-KEYWORD,midjourney
      - DOMAIN-SUFFIX,stability.ai
      - DOMAIN-SUFFIX,stablediffusionweb.com
      - DOMAIN-SUFFIX,dreamstudio.ai
      - DOMAIN-SUFFIX,runwayml.com
      - DOMAIN-SUFFIX,runway.ml

      # Character.AI –∏ –¥—Ä—É–≥–∏–µ
      - DOMAIN-SUFFIX,character.ai
      - DOMAIN-SUFFIX,beta.character.ai
      - DOMAIN-SUFFIX,replicate.com
      - DOMAIN-SUFFIX,cohere.ai
      - DOMAIN-SUFFIX,cohere.com

      # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤
      - DOMAIN-SUFFIX,jetbrains.com
      - DOMAIN-SUFFIX,replit.com
      - DOMAIN-SUFFIX,repl.it
      - DOMAIN-SUFFIX,stackoverflow.com
      - DOMAIN-SUFFIX,docker.com
      - DOMAIN-SUFFIX,docker.io
      - DOMAIN-SUFFIX,dockerstatic.com
      - DOMAIN-SUFFIX,compose-spec.io
      - DOMAIN-SUFFIX,npmjs.com
      - DOMAIN-SUFFIX,pypi.org

# === –ì–õ–ê–í–ù–´–ï –ü–†–ê–í–ò–õ–ê: –ö–ê–ö –†–ê–°–ü–†–ï–î–ï–õ–Ø–¢–¨ –¢–†–ê–§–ò–ö ===
rules:
  # –õ–æ–∫–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ ‚Äî –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ –ø—Ä–æ–∫—Å–∏)
  - IP-CIDR,192.168.0.0/16,DIRECT,no-resolve
  - IP-CIDR,10.0.0.0/8,DIRECT,no-resolve
  - IP-CIDR,172.16.0.0/12,DIRECT,no-resolve
  - IP-CIDR,127.0.0.0/8,DIRECT,no-resolve

  # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É—è–∑–≤–∏–º—ã—Ö UDP –ø–æ—Ä—Ç–æ–≤
  #- AND,((NETWORK,udp),(DST-PORT,135)),REJECT
  #- AND,((NETWORK,udp),(DST-PORT,137)),REJECT
  #- AND,((NETWORK,udp),(DST-PORT,138)),REJECT
  #- AND,((NETWORK,udp),(DST-PORT,139)),REJECT

  # QUIC-—Ç—Ä–∞—Ñ–∏–∫ (—á–∞—Å—Ç–æ –Ω–∞ –ø–æ—Ä—Ç—É 443) –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –≥—Ä—É–ø–ø—É QUIC
  - AND,((NETWORK,udp),(DST-PORT,443)),QUIC

  # –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
  - RULE-SET,mixed-ai,AI_DEV
  - OR,((RULE-SET,telegram-domain),(RULE-SET,telegram-ips)),TELEGRAM
  - RULE-SET,whatsapp-domain,WHATSAPP
  - OR,((RULE-SET,discord_domains),(RULE-SET,discord_voiceips)),SELECTOR
  - OR,((RULE-SET,steam-domain),(RULE-SET,steam-ips)),STEAM
  - RULE-SET,anthropic,ANTHROPIC
  - RULE-SET,perplexity,PERPLEXITY
  - RULE-SET,google_gemini,GOOGLE_GEMINI
  - RULE-SET,openai,OPENAI
  - RULE-SET,microsoft,MICROSOFT
  - RULE-SET,twitch-domain,TWITCH
  - RULE-SET,youtube,YOUTUBE
  #- RULE-SET,ru-bundle,SELECTOR

  # –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ IP ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏, —á—Ç–æ–±—ã –Ω–µ —Ä–∞—Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å
  - OR,((DOMAIN,ipwho.is),(DOMAIN,api.ip.sb),(DOMAIN,ipapi.co),(DOMAIN,ipinfo.io)),SELECTOR
  #- RULE-SET,oisd_big,REJECT

  # –í–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫, –ø—Ä–∏—à–µ–¥—à–∏–π —á–µ—Ä–µ–∑ TUN –∏–ª–∏ mixed-in, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –≥–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
  - IN-NAME,tun-in,SELECTOR
  - IN-NAME,mixed-in,SELECTOR

  # –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî —Ç–æ–∂–µ –≤ SELECTOR (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ-–ª–æ–≤—É—à–∫–∞ –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ)
  - MATCH,SELECTOR
